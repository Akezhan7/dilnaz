(function(a){var d={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper"},c=a(window),b=a(document),h=[],i=c.height(),g=function(){var r=c.scrollTop(),j=b.height(),k=j-i,n=(r>k)?k-r:0;for(var o=0;o<h.length;o++){var q=h[o],l=q.stickyWrapper.offset().top,m=l-q.topSpacing-n;if(r<=m){if(q.currentTop!==null){q.stickyElement.css("position","").css("top","").removeClass(q.className);q.stickyElement.parent().removeClass(q.className);q.currentTop=null}}else{var p=j-q.stickyElement.outerHeight()-q.topSpacing-q.bottomSpacing-r-n;if(p<0){p=p+q.topSpacing}else{p=q.topSpacing}if(q.currentTop!=p){q.stickyElement.css("position","fixed").css("top",p).addClass(q.className);q.stickyElement.parent().addClass(q.className);q.currentTop=p}}}},f=function(){i=c.height()},e={init:function(k){var j=a.extend(d,k);return this.each(function(){var l=a(this);stickyId=l.attr("id");wrapper=a("<div></div>").attr("id",stickyId+"-sticky-wrapper").addClass(j.wrapperClassName);l.wrapAll(wrapper);var m=l.parent();m.css("height",l.outerHeight());h.push({topSpacing:j.topSpacing,bottomSpacing:j.bottomSpacing,stickyElement:l,currentTop:null,stickyWrapper:m,className:j.className})})},update:g};if(window.addEventListener){window.addEventListener("scroll",g,false);window.addEventListener("resize",f,false)}else{if(window.attachEvent){window.attachEvent("onscroll",g);window.attachEvent("onresize",f)}}a.fn.sticky=function(j){if(e[j]){return e[j].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof j==="object"||!j){return e.init.apply(this,arguments)}else{a.error("Method "+j+" does not exist on jQuery.sticky")}}};a(function(){setTimeout(g,0)})})(jQuery);